<div class="max-w-2xl mx-auto p-4 bg-white shadow rounded">
  <h2 class="text-xl font-bold mb-4">Crear nueva lista</h2>

  <form (ngSubmit)="onSubmit()">
    <div class="mb-3">
      <label class="block font-medium">Nombre *</label>
      <input
        [(ngModel)]="playlist.nombre"
        name="nombre"
        required
        class="w-full border px-2 py-1 rounded"
      />
    </div>

    <div class="mb-3">
      <label class="block font-medium">Descripción</label>
      <input
        [(ngModel)]="playlist.descripcion"
        name="descripcion"
        class="w-full border px-2 py-1 rounded"
      />
    </div>

    <div class="mt-6 mb-3 border-t pt-4">
      <h3 class="font-semibold mb-2">Agregar canción</h3>

      <div class="grid grid-cols-2 gap-4">
        <input
          [(ngModel)]="cancion.titulo"
          name="titulo"
          placeholder="Título"
          class="border px-2 py-1 rounded"
        />
        <input
          [(ngModel)]="cancion.artista"
          name="artista"
          placeholder="Artista"
          class="border px-2 py-1 rounded"
        />
        <input
          [(ngModel)]="cancion.album"
          name="album"
          placeholder="Álbum"
          class="border px-2 py-1 rounded"
        />
        <input
          [(ngModel)]="cancion.anno"
          name="anno"
          placeholder="Año"
          class="border px-2 py-1 rounded"
        />
        <input
          [(ngModel)]="cancion.genero"
          name="genero"
          placeholder="Género"
          class="border px-2 py-1 rounded"
        />
      </div>

      <button
        type="button"
        (click)="agregarCancion()"
        class="mt-3 bg-blue-500 text-white px-4 py-2 rounded"
      >
        Añadir canción
      </button>
    </div>

    <div
      *ngIf="playlist.canciones && playlist.canciones.length > 0"
      class="mt-6"
    >
      <h4 class="font-semibold">Canciones agregadas:</h4>
      <ul class="list-disc list-inside text-sm text-gray-700">
        <li *ngFor="let song of playlist.canciones">
          {{ song.titulo }} – {{ song.artista }} ({{ song.anno }})
        </li>
      </ul>
    </div>

    <div class="flex gap-4 mt-4">
      <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">
        Crear
      </button>

      <button
        type="button"
        (click)="cancelar()"
        class="bg-blue-500 text-white px-4 py-2 rounded"
      >
        Cancelar
      </button>
    </div>
  </form>

  <p *ngIf="successMessage" class="text-green-600 mt-2">{{ successMessage }}</p>
  <p *ngIf="errorMessage" class="text-red-600 mt-2">{{ errorMessage }}</p>
</div>
